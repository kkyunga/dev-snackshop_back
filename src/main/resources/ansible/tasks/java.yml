- name: Install Specific Java Version
  apt:
    name: "openjdk-{{ item.version }}-jdk"
    state: present
  when: item.version is defined and item.version != ""

- name: Install Default Java (Latest)
  apt:
    name: default-jdk
    state: latest
  when: item.version is not defined or item.version == ""

# 서비스 상태 확인
- name: Ensure Java service is started
  service:
    name: java
    state: started
    enabled: yes